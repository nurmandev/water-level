<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" href="/assets/logo/Logo_head.png" type="image/png" />

    <title>Water Tank Level</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="assets/bootstrap/bootstrap-icons/bootstrap-icons.css"
    />

    <link
      type="text/css"
      href="assets/bootstrap/bootstrap-css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/screen.css" />

    <script
      type="text/javascript"
      href="assets/bootstrap/bootstrap-js/bootstrap.bundle.min.css"
      rel="stylesheet"
    ></script>
    <script type="module" src="assets/js/script.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.4.1/dist/chart.min.js"></script>

    <!-- Additional CSS Files -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/templatemo-chain-app-dev.css" />
    <link rel="stylesheet" href="assets/css/animated.css" />
    <link rel="stylesheet" href="assets/css/owl.css" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js" defer></script>
  </head>
  <body>
    <!-- ***** Preloader Start ***** -->
    <div id="js-preloader" class="js-preloader">
      <div class="preloader-inner">
        <span class="dot"></span>
        <div class="dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
    <!-- ***** Preloader End ***** -->

    <header
      class="header-area header-sticky wow slideInDown"
      data-wow-duration="0.75s"
      data-wow-delay="0s"
    >
      <div class="container">
        <div class="row">
          <div class="col-12">
            <nav class="main-nav">
              <!-- ***** Logo Start ***** -->
              <a href="index.html" class="logo">
                <span class="LOGO" id="navbar-logo"></span>
                <!-- <div class="LOGO" id="navbar-logo">LOGO</div> -->
              </a>
              <!-- ***** Logo End ***** -->
              <!-- ***** Menu Start ***** -->
              <ul class="nav">
                <li class="scroll-to-section">
                  <a href="#top" class="active">Home</a>
                </li>
                <li class="scroll-to-section">
                  <a href="./login.html">Login</a>
                </li>
                <li class="scroll-to-section">
                  <a href="./register.html">Register</a>
                </li>
                <li class="scroll-to-section"><a href="#faq">FAQ</a></li>
                <li class="scroll-to-section">
                  <a href="#contact">Contact</a>
                </li>
                <li class="scroll-to-section">
                  <span id="navbar-username">Guest</span>
                </li>
              </ul>
              <a class="menu-trigger">
                <span>Menu</span>
              </a>
              <!-- ***** Menu End ***** -->
            </nav>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="container">
        <h1>Dashboard</h1>
        <p>Welcome to your dashboard.</p>
      </div>

      <div class="container">
        <div class="card-deck">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Tank</h5>
              <div class="progress progress-bar-vertical">
                <div
                  class="progress-bar progress-bar-danger bg-info progress-bar-striped progress-bar-animated"
                  role="progressbar"
                  aria-valuenow="0"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  id="tankProgress"
                  style="height: 0%"
                >
                  <div class="container">
                    <span class="sr-only" id="tankPercentage">0%</span>
                  </div>
                </div>
              </div>
              <div class="container">
                <p id="distance">Tank is filled up for: 0%</p>
              </div>
              <div class="card-footer container">
                <small class="text-muted" id="status"
                  >Status: Monitoring...</small
                >
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">History</h5>
              <canvas id="historyChart"></canvas>
            </div>
            <div class="card-footer">
              <small class="text-muted">Last updated # mins ago</small>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- NEW CODE  -->
    <!-- Scripts -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/animation.js"></script>
    <script src="assets/js/imagesloaded.js"></script>
    <script src="assets/js/popup.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/faq.js>"></script>

    <script>
      const toggles = document.querySelectorAll(".faq-toggle");

      toggles.forEach((toggle) => {
        toggle.addEventListener("click", () => {
          toggle.parentElement.classList.toggle("active");
        });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("/api/user")
          .then((response) => response.json())
          .then((data) => {
            const username = data.username;
            document.getElementById(
              "navbar-username"
            ).textContent = `welcome ${username}`;
            document.getElementById("navbar-logo").textContent =
              username !== "Guest" ? username : " ";
          });
      });
    </script>
  </body>
</html>
